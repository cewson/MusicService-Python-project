üìÄ MusicService ‚Äî Data Collection, Storage and Processing
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —É—á–µ–±–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Chinook. –û–Ω –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL‚Äë–∑–∞–ø—Ä–æ—Å–æ–≤, –∞–Ω–∞–ª–∏–∑ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Python –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite.

üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö chinook.db

–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü –≤ pandas.DataFrame

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL‚Äë–∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

–ê–Ω–∞–ª–∏—Ç–∏–∫–∞: —Ç–æ–ø‚Äë–∫–ª–∏–µ–Ω—Ç—ã, —Ç–æ–ø‚Äë–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏, –ø—Ä–æ–¥–∞–∂–∏ –ø–æ –∂–∞–Ω—Ä–∞–º

–†–∞–±–æ—Ç–∞ —Å –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é results/

–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –º–æ–¥—É–ª—å defs.py

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
–ö–æ–¥
MusicService-Python-project/
‚îÇ
‚îú‚îÄ‚îÄ data/                # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
‚îú‚îÄ‚îÄ results/             # –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ chinook.db           # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ defs.py              # –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ main.py              # –ì–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ LICENSE              # MIT License
‚îî‚îÄ‚îÄ .gitignore
‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.10+
bash
python --version
2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
bash
git clone https://github.com/cewson/MusicService-Python-project.git
cd MusicService-Python-project
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
bash
python main.py
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ results/.

üß© –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ defs.py
–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ –º–æ–¥—É–ª–µ defs.py.
–û–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.

üîå connect_db(db_path)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å SQLite‚Äë–±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

db_path ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (chinook.db)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

–æ–±—ä–µ–∫—Ç sqlite3.Connection

üì• load_table(conn, table_name)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ pandas.DataFrame.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

conn ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

table_name ‚Äî –∏–º—è —Ç–∞–±–ª–∏—Ü—ã

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

DataFrame —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Ç–∞–±–ª–∏—Ü—ã

üßÆ execute_query(conn, query)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–í—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π SQL‚Äë–∑–∞–ø—Ä–æ—Å.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

conn ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

query ‚Äî SQL‚Äë—Å—Ç—Ä–æ–∫–∞

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

DataFrame —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∑–∞–ø—Ä–æ—Å–∞

üíæ save_to_csv(df, filename)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç DataFrame –≤ CSV‚Äë—Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é results/.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

df ‚Äî DataFrame

filename ‚Äî –∏–º—è —Ñ–∞–π–ª–∞

üë• get_top_customers(conn, limit=10)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –Ω–∞–∏–±–æ–ª—å—à–µ–π —Å—É–º–º–æ–π –ø–æ–∫—É–ø–æ–∫.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

conn ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

limit ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

DataFrame —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
CustomerId, FirstName, LastName, TotalSpent

üé§ get_top_artists(conn, limit=10)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–ù–∞—Ö–æ–¥–∏—Ç —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

conn ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

limit ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

DataFrame —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
ArtistId, Name, TracksSold

üéß get_sales_by_genre(conn)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–°—á–∏—Ç–∞–µ—Ç –ø—Ä–æ–¥–∞–∂–∏ –ø–æ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–º –∂–∞–Ω—Ä–∞–º.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

conn ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

DataFrame —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
Genre, TotalSales

üéº get_tracks_by_playlist(conn, playlist_name)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤, –≤—Ö–æ–¥—è—â–∏—Ö –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–ª–µ–π–ª–∏—Å—Ç.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

conn ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

playlist_name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

DataFrame —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
TrackId, Name, Composer, Milliseconds

üìÇ ensure_results_dir()
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ results/.

üóÑ –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π Chinook, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π —Ç–∞–±–ª–∏—Ü—ã:

artists

albums

tracks

genres

customers

invoices

invoice_items

playlists

playlist_track

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.
–°–º. —Ñ–∞–π–ª LICENSE.
